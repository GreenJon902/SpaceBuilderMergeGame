<InventoryScreen>:
    BoxLayout: # Main Holder
        orientation: "vertical"

        BoxLayout: # Control bar / Bar at top
            orientation: "horizontal"

            canvas.before:
                Color:
                    rgb: 0.29019607843, 0.56470588235, 1

                Rectangle:
                    pos: self.pos
                    size: self.size

            size_hint_y: graphicsConfig.getfloat("InventoryScreen", "control_bar_size_hint_y")


            BetterButton:
                size_type: "small"
                button_id: "exit"
                bg_type: "dark_blue"

                let_parent_size: True

                on_release: get_sm().set_screen("BaseBuildScreen")

            Widget:
                id: spacer



        BoxLayout: # Split between merge and inventory sections
            orientation: "horizontal"

            StackLayout: # Inventory section
                id: inventory_items_holder

                orientation: "lr-tb"

                canvas.before:
                    Color:
                        rgb: 0, 0.10588235294, 0.27058823529

                    Rectangle:
                        pos: self.pos
                        size: self.size

            BoxLayout:
                orientation: "vertical"

                FloatLayout: # Merge section
                    canvas.before:
                        Color:
                            rgb: 0, 0.20392156862, 0.5294117647

                        Rectangle:
                            pos: self.pos
                            size: self.size

                    Image: # Background
                        pos: self.parent.pos
                        size: self.parent.size

                        texture: Textures.get("InventoryScreen", "merge_gui")

                        allow_stretch: True
                        keep_ratio: True

                    BetterButton:
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}

                        bg_type: "alternate_very_dark_blue"
                        button_id: "item_unknown"


                BoxLayout: # Options
                    canvas.before:
                        Color:
                            rgb: 0, 0.16862745098, 0.43921568627

                        Rectangle:
                            pos: self.pos
                            size: self.size

                    orientation: "horizontal"
                    size_hint_y: graphicsConfig.get("InventoryScreen", "merge_options_size_hint_y")
                    padding: 5


                    FlatBetterButton:
                        text_id: "inventory.buttons.place"

                    FlatBetterButton:
                        text_id: "inventory.buttons.merge"

                    FlatBetterButton:
                        text_id: "inventory.buttons.recipes"